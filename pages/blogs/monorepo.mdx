import { FileTree, Tabs } from 'nextra/components';

# ä»€ä¹ˆæ˜¯ Monorepoï¼Ÿ

Monorepoï¼ˆå•ä½“ä»“åº“ï¼‰æ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹ä¸­çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå®ƒå°†å¤šä¸ªé¡¹ç›®æˆ–æ¨¡å—æ”¾åœ¨ä¸€ä¸ªå•ä¸€çš„ä»“åº“ä¸­ç®¡ç†ï¼Œè€Œä¸æ˜¯åˆ†æ•£åœ¨å¤šä¸ªç‹¬ç«‹çš„ä»“åº“ä¸­ã€‚è¿™ç§æ¨¡å¼åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­è¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œå› ä¸ºå®ƒæä¾›äº†å‡ ä¸ªæ˜¾è‘—çš„ä¼˜åŠ¿ï¼š

1. **ç®€åŒ–çš„ä¾èµ–ç®¡ç†**ï¼šMonorepo å…è®¸è·¨é¡¹ç›®çš„ä¾èµ–å…³ç³»æ›´å®¹æ˜“ç®¡ç†ï¼Œå› ä¸ºæ‰€æœ‰ä»£ç éƒ½ä½äºåŒä¸€ä»“åº“ä¸­ã€‚
2. **ç»Ÿä¸€çš„æ„å»ºå’Œæµ‹è¯•**ï¼šMonorepo ä½¿å¾—æ•´ä¸ªä»£ç åº“çš„æ„å»ºå’Œæµ‹è¯•æ›´åŠ ä¸€è‡´å’Œé›†ä¸­ã€‚
3. **æ›´å¥½çš„ä»£ç å…±äº«**ï¼šMonorepo ä¿ƒè¿›äº†ä»£ç å’Œå·¥å…·çš„å…±äº«ï¼Œæœ‰åŠ©äºå‡å°‘é‡å¤ä»£ç ã€‚
4. **ç®€åŒ–çš„ä»£ç å®¡æŸ¥**ï¼šå¼€å‘è€…å¯ä»¥åœ¨ä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­å®¡æŸ¥è·¨å¤šä¸ªé¡¹ç›®çš„ä»£ç å˜æ›´ï¼Œè¿™æœ‰åŠ©äºä¿æŒä»£ç çš„ä¸€è‡´æ€§å’Œè´¨é‡ã€‚
5. **æ›´é«˜æ•ˆçš„åä½œ**ï¼šå›¢é˜Ÿæˆå‘˜å¯ä»¥æ›´å®¹æ˜“åœ°åä½œå’Œç†è§£æ•´ä¸ªç³»ç»Ÿçš„ä»£ç ç»“æ„ã€‚

## ä½¿ç”¨ pnpm åˆ›å»º TypeScript Monorepo

`pnpm` æ”¯æŒ `workspaces` åŠŸèƒ½ï¼Œå…è®¸ä½ åœ¨ä¸€ä¸ªä»“åº“ä¸­ç®¡ç†å¤šä¸ªåŒ…ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨ `pnpm` åˆ›å»ºå’Œç®¡ç† Monorepo çš„åŸºæœ¬æ­¥éª¤ï¼š

1. **åˆå§‹åŒ– Monorepo**

   åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ `pnpm` å·¥ä½œåŒºï¼š

   ```bash
   mkdir pnpm-mono
   cd pnpm-mono
   pnpm init -y
   ```

   ä¿®æ”¹ç”Ÿæˆ package.json ä¸­çš„ name å­—æ®µä¸º `@ell/monorepo`ï¼Œ`@ell` éƒ¨åˆ†æ˜¯ä½ çš„å…¬å¸æˆ–ç»„ç»‡åç§°

   ```json filename="package.json"
   {
        "name": "@ell/monorepo",
        "version": "1.0.0"
    }
   ```

2. **é…ç½® workspace**

   åœ¨ `pnpm-mono` ç›®å½•ä¸‹å®šä¹‰å·¥ä½œåŒºï¼Œå¹¶ä½¿ç”¨ tsup ä½œä¸º TypeScript æ‰“åŒ…æ„å»ºå·¥å…·ï¼Œä½¿ç”¨ biome ä½œä¸ºä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œ ä½¿ç”¨ tsx ä½œä¸º TypeScript å¼€å‘ç¯å¢ƒè¿è¡Œå·¥å…·ã€‚

   <Tabs items={['package.json', 'tsup.config.ts', 'biome.json', 'pnpm-workspace.yaml', '.npmrc']}>
      <Tabs.Tab>
         ```json
         {
            "name": "@ell/monorepo",
            "version": "1.0.0",
            "scripts": {
               "preinstall": "npx only-allow pnpm",
               "build": "pnpm --filter \"./packages/**\" run build",
               "clean": "pnpm --filter=@elljs/* run clean",
               "format": "pnpm biome format --write ."
            },
            "devDependencies": {
               "@biomejs/biome": "^1.9.4",
               "rimraf": "^6.0.1",
               "tsup": "^8.3.5",
               "tsx": "^4.19.2"
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```ts
         import { defineConfig } from 'tsup';

         export default defineConfig([
            {
               entry: ['src/index.ts'],
               outDir: 'dist',
               target: 'node18',
               platform: 'node',
               format: ['cjs', 'esm'],
               splitting: false,
               sourcemap: true,
               minify: true,
               shims: true,
               dts: true,
            },
         ]);
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```json
         {
            "$schema": "https://biomejs.dev/schemas/1.8.0/schema.json",
            "organizeImports": {
               "enabled": true
            },
            "vcs": {
               "enabled": true,
               "clientKind": "git",
               "useIgnoreFile": true
            },
            "formatter": {
               "enabled": true,
               "formatWithErrors": false,
               "ignore": [],
               "indentStyle": "tab",
               "indentWidth": 2,
               "lineWidth": 120
            },
            "javascript": {
               "formatter": {
                  "enabled": true,
                  "semicolons": "always",
                  "quoteStyle": "single",
                  "jsxQuoteStyle": "double",
                  "trailingCommas": "all"
               }
            },
            "linter": {
               "enabled": true,
               "rules": {
                  "recommended": true,
                  "suspicious": {
                     "noExplicitAny": "off"
                  }
               }
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```yaml
         packages:
            - apps/*
            - packages/*
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```
         link-workspace-packages = true
         prefer-workspace-packages = true
         recursive-install = true
         ```
      </Tabs.Tab>
   </Tabs>

   `.npmrc` ä¸­çš„é…ç½®:

   **link-workspace-packages = true**
      - å½“è®¾ç½®ä¸º `true` æ—¶ï¼Œè¿™ä¸ªé€‰é¡¹ä¼šè®© `pnpm` è‡ªåŠ¨å°†å·¥ä½œåŒºä¸­çš„åŒ…ç›¸äº’é“¾æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªåŒ…ä¾èµ–äºå·¥ä½œåŒºä¸­çš„å¦ä¸€ä¸ªåŒ…æ—¶ï¼Œ`pnpm` ä¼šåˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ˆsymlinkï¼‰ï¼Œä½¿å¾—ä¸€ä¸ªåŒ…å¯ä»¥ç›´æ¥å¼•ç”¨å¦ä¸€ä¸ªåŒ…çš„æœ¬åœ°ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯å®‰è£…æ¥è‡ªè¿œç¨‹ä»“åº“çš„ç‰ˆæœ¬ã€‚è¿™æ ·å¯ä»¥åŠ å¿«å¼€å‘é€Ÿåº¦ï¼Œå› ä¸ºä¸éœ€è¦é‡å¤ä¸‹è½½å’Œå®‰è£…ç›¸åŒçš„ä»£ç ã€‚

   **prefer-workspace-packages = true**
      - è¿™ä¸ªé€‰é¡¹æŒ‡ç¤º `pnpm` åœ¨å®‰è£…ä¾èµ–æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©å·¥ä½œåŒºä¸­çš„åŒ…è€Œä¸æ˜¯è¿œç¨‹ä»“åº“ä¸­çš„åŒ…ã€‚å¦‚æœå·¥ä½œåŒºä¸­å­˜åœ¨ä¸è¿œç¨‹ä»“åº“ç›¸åŒç‰ˆæœ¬çš„åŒ…ï¼Œ`pnpm` å°†ä½¿ç”¨å·¥ä½œåŒºä¸­çš„ç‰ˆæœ¬ã€‚è¿™æœ‰åŠ©äºç¡®ä¿å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨çš„åŒ…ç‰ˆæœ¬ä¸€è‡´ï¼Œå¹¶ä¸”å¯ä»¥å‡å°‘å¯¹å¤–éƒ¨ä»“åº“çš„ä¾èµ–ã€‚

   **recursive-install = true**
      - å½“è®¾ç½®ä¸º `true` æ—¶ï¼Œè¿™ä¸ªé€‰é¡¹ä¼šè®© `pnpm` åœ¨å®‰è£…ä¾èµ–æ—¶é€’å½’åœ°æ£€æŸ¥æ‰€æœ‰å­å·¥ä½œåŒºï¼ˆsub-workspacesï¼‰çš„ä¾èµ–ã€‚è¿™æ„å‘³ç€ `pnpm` å°†ä¸ä»…å®‰è£…å½“å‰å·¥ä½œåŒºçš„ä¾èµ–ï¼Œè¿˜ä¼šæ£€æŸ¥å¹¶å®‰è£…æ‰€æœ‰å­å·¥ä½œåŒºçš„ä¾èµ–ã€‚è¿™æœ‰åŠ©äºç¡®ä¿æ•´ä¸ª monorepo ç»“æ„ä¸­çš„æ‰€æœ‰åŒ…éƒ½æ­£ç¡®å®‰è£…äº†å®ƒä»¬çš„ä¾èµ–ã€‚

3. **åˆ›å»ºåŒ…**
      
   åœ¨ `packages` ç›®å½•ä¸‹åˆ›å»ºä¸åŒçš„åŒ…ï¼š

   ```bash
   cd packages
   mkdir package-a package-b
   ```

   package-a å’Œ package-b åŒ…çš„ package.json æ–‡ä»¶ä¸­çš„ name å­—æ®µåˆ†åˆ«ä¸º `@ell/package-a` å’Œ `@ell/package-b`

   package-a ä¸­çš„æ–‡ä»¶å¦‚ä¸‹:

   <Tabs items={['package.json', 'src/index.ts', 'biome.json', 'tsconfig.json']}>
      <Tabs.Tab>
         ```json
         {
            "name": "@ell/package-a",
            "version": "1.0.0",
            "type": "module",
            "source": "./src/index.ts",
            "types": "./dist/index.d.ts",
            "sideEffects": false,
            "exports": {
               ".": {
                  "import": "./dist/index.js",
                  "require": "./dist/index.cjs",
                  "default": "./dist/index.js"
               }
            },
            "files": ["dist"],
            "scripts": {
               "build": "tsup --config ../../tsup.config.ts",
               "clean": "rimraf dist && rimraf node_modules"
            },
            "devDependencies": {
               "typescript": "^5.7.2"
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```ts
         export const fnA = () => console.log('package-a');
         ```
      </Tabs.Tab>      
      <Tabs.Tab>
         ```json
         {
            "extends": ["../../biome.json"]
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```json
         {
            "$schema": "https://json.schemastore.org/tsconfig",
            "compilerOptions": {
               "lib": ["esnext", "dom.iterable", "dom"],
               "module": "esnext",
               "moduleResolution": "bundler",
               "moduleDetection": "force",
               "noEmit": true,
               "target": "es2020",
               "outDir": "dist",

               "allowImportingTsExtensions": false,
               "allowJs": true,
               "esModuleInterop": true,
               "forceConsistentCasingInFileNames": true,
               "incremental": false,
               "isolatedModules": true,
               "jsx": "preserve",
               "noUncheckedIndexedAccess": true,
               "resolveJsonModule": true,
               "skipLibCheck": true,
               "sourceMap": true,
               "strict": true,
               "useDefineForClassFields": true,
               "verbatimModuleSyntax": true,

               "baseUrl": ".",
               "paths": {
                  "@/*": ["./src/*"]
               }
            },
            "include": ["src"]
         }
         ```
      </Tabs.Tab>
   </Tabs>

   package-b ä¸­çš„æ–‡ä»¶å¦‚ä¸‹:

   <Tabs items={['package.json', 'src/index.ts', 'biome.json', 'tsconfig.json']}>
      <Tabs.Tab>
         ```json
         {
            "name": "@ell/package-b",
            "version": "1.0.0",
            "type": "module",
            "source": "./src/index.ts",
            "types": "./dist/index.d.ts",
            "sideEffects": false,
            "exports": {
               ".": {
                  "import": "./dist/index.js",
                  "require": "./dist/index.cjs",
                  "default": "./dist/index.js"
               }
            },
            "files": ["dist"],
            "scripts": {
               "build": "tsup --config ../../tsup.config.ts",
               "clean": "rimraf dist && rimraf node_modules"
            },
            "devDependencies": {
               "typescript": "^5.7.2"
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```ts
         export const fnB = () => console.log('package-b');
         ```
      </Tabs.Tab>      
      <Tabs.Tab>
         ```json
         {
            "extends": ["../../biome.json"]
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```json
         {
            "$schema": "https://json.schemastore.org/tsconfig",
            "compilerOptions": {
               "lib": ["esnext", "dom.iterable", "dom"],
               "module": "esnext",
               "moduleResolution": "bundler",
               "moduleDetection": "force",
               "noEmit": true,
               "target": "es2020",
               "outDir": "dist",

               "allowImportingTsExtensions": false,
               "allowJs": true,
               "esModuleInterop": true,
               "forceConsistentCasingInFileNames": true,
               "incremental": false,
               "isolatedModules": true,
               "jsx": "preserve",
               "noUncheckedIndexedAccess": true,
               "resolveJsonModule": true,
               "skipLibCheck": true,
               "sourceMap": true,
               "strict": true,
               "useDefineForClassFields": true,
               "verbatimModuleSyntax": true,

               "baseUrl": ".",
               "paths": {
                  "@/*": ["./src/*"]
               }
            },
            "include": ["src"]
         }
         ```
      </Tabs.Tab>
   </Tabs>

   åœ¨ `package.json` æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸æ¨¡å—ç›¸å…³çš„é…ç½®ï¼Œä»¥ä¸‹æ˜¯æ¯ä¸ªå­—æ®µçš„è¯¦ç»†è§£é‡Šï¼š

   1. **"type": "module"**
      - è¿™ä¸ªå­—æ®µæŒ‡å®šåŒ…æ”¯æŒ ES æ¨¡å—ã€‚å®ƒå‘Šè¯‰ Node.js å’Œå…¶ä»–ç¯å¢ƒï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½æ˜¯ ECMAScript æ¨¡å—ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ `import` å’Œ `export` è¯­æ³•ã€‚

   2. **"source": "./src/index.ts"**
      - è¿™ä¸ªå­—æ®µæŒ‡å®šäº† TypeScript ç¼–è¯‘å™¨çš„å…¥å£æ–‡ä»¶ã€‚å®ƒå‘Šè¯‰ç¼–è¯‘å™¨ä» `./src/index.ts` æ–‡ä»¶å¼€å§‹ç¼–è¯‘ã€‚

   3. **"types": "./dist/index.d.ts"**
      - è¿™ä¸ªå­—æ®µæŒ‡å®šäº†ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆ`.d.ts`ï¼‰çš„ä½ç½®ã€‚å½“ä½ å®‰è£…è¿™ä¸ªåŒ…æ—¶ï¼ŒTypeScript ä¼šæŸ¥æ‰¾è¿™ä¸ªæ–‡ä»¶æ¥æä¾›ç±»å‹ä¿¡æ¯ã€‚è¿™é‡ŒæŒ‡å®šçš„æ˜¯ `./dist/index.d.ts`ã€‚

   4. **"sideEffects": false**
      - è¿™ä¸ªå­—æ®µå‘Šè¯‰æ‰“åŒ…å·¥å…·ï¼ˆå¦‚ webpackã€Rollupï¼‰è¿™ä¸ªåŒ…æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ï¼ˆå³ä¸æ‰§è¡Œä»»ä½•ä»£ç ï¼Œé™¤äº†å¯¼å‡ºï¼‰ã€‚è¿™å…è®¸æ‰“åŒ…å·¥å…·åœ¨ä¼˜åŒ–æ—¶æ’é™¤æ²¡æœ‰è¢«å¼•ç”¨çš„ä»£ç ï¼Œä»è€Œå‡å°æœ€ç»ˆåŒ…çš„å¤§å°ã€‚

   5. **"exports": {}**
      - è¿™ä¸ªå­—æ®µå®šä¹‰äº†æ¨¡å—çš„å¯¼å‡ºæ–¹å¼ã€‚å®ƒå…è®¸ä½ æŒ‡å®šä¸åŒæ¡ä»¶ä¸‹çš„å…¥å£ç‚¹ã€‚
      - `"."`: è¡¨ç¤ºé»˜è®¤å¯¼å‡ºå’Œå‘½åå¯¼å‡ºçš„é…ç½®ã€‚
      - `"import": "./dist/index.js"`: æŒ‡å®šäº†å½“ä½¿ç”¨ `import` è¯­æ³•æ—¶ï¼Œåº”è¯¥åŠ è½½çš„æ–‡ä»¶ã€‚
      - `"require": "./dist/index.cjs"`: æŒ‡å®šäº†å½“ä½¿ç”¨ `require` è¯­æ³•æ—¶ï¼Œåº”è¯¥åŠ è½½çš„æ–‡ä»¶ã€‚è¿™å¯¹äº CommonJS æ¨¡å—å…¼å®¹æ€§å¾ˆé‡è¦ã€‚
      - `"default": "./dist/index.js"`: æŒ‡å®šäº†é»˜è®¤å¯¼å‡ºçš„æ–‡ä»¶ã€‚

   6. **"files": ["dist"]**
      - è¿™ä¸ªå­—æ®µå®šä¹‰äº†å½“ä½ çš„åŒ…è¢«å®‰è£…æ—¶ï¼Œå“ªäº›æ–‡ä»¶åº”è¯¥è¢«åŒ…å«åœ¨å†…ã€‚è¿™é‡ŒæŒ‡å®šçš„æ˜¯åªåŒ…å« `dist` ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚

   è¿™äº›å­—æ®µå…±åŒå®šä¹‰äº†åŒ…çš„ç»“æ„ã€å…¼å®¹æ€§å’Œæ„å»ºè¡Œä¸ºï¼Œä½¿å¾—åŒ…å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹æ­£ç¡®åœ°è¢«æ„å»ºå’Œä½¿ç”¨ã€‚é€šè¿‡ç²¾ç¡®æ§åˆ¶å¯¼å‡ºå’Œæ–‡ä»¶åŒ…å«ï¼Œä½ å¯ä»¥ç¡®ä¿ä½ çš„åŒ…åœ¨ä¸åŒçš„æ¨¡å—ç³»ç»Ÿä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”æä¾›è‰¯å¥½çš„ç±»å‹æ”¯æŒã€‚

4. **åˆ›å»ºåº”ç”¨**

   åœ¨ `apps` ç›®å½•ä¸‹åˆ›å»ºåº”ç”¨ï¼š

   ```bash
   cd apps   
   mkdir api
   ```

   å®‰è£… package-a å’Œ package-b:

   ```bash   
   pnpm add @ell/package-a @ell/package-b
   ```

   api ä¸­çš„æ–‡ä»¶å¦‚ä¸‹:

   <Tabs items={['package.json', 'src/index.ts', 'biome.json', 'tsconfig.json']}>
      <Tabs.Tab>
         ```json
         {
            "name": "@ell/api",
            "version": "1.0.0",
            "scripts": {
               "build": "tsc ./src/index.ts",
               "dev": "tsx ./src/index.ts",
               "clean": "rimraf dist && rimraf node_modules"
            },
            "dependencies": {
               "@ell/package-a": "workspace:^",
               "@ell/package-b": "workspace:^"
            },
            "devDependencies": {
               "typescript": "^5.7.2"
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```ts
         import { fnA } from '@ell/package-a';
         import { fnB } from '@ell/package-b';

         fnA();
         fnB();
         ```
      </Tabs.Tab>      
      <Tabs.Tab>
         ```json
         {
            "extends": ["../../biome.json"]
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```json
         {
            "$schema": "https://json.schemastore.org/tsconfig",
            "compilerOptions": {
               "lib": ["esnext", "dom.iterable", "dom"],
               "module": "esnext",
               "moduleResolution": "bundler",
               "moduleDetection": "force",
               "noEmit": true,
               "target": "es2020",
               "outDir": "dist",

               "allowImportingTsExtensions": false,
               "allowJs": true,
               "esModuleInterop": true,
               "forceConsistentCasingInFileNames": true,
               "incremental": false,
               "isolatedModules": true,
               "jsx": "preserve",
               "noUncheckedIndexedAccess": true,
               "resolveJsonModule": true,
               "skipLibCheck": true,
               "sourceMap": true,
               "strict": true,
               "useDefineForClassFields": true,
               "verbatimModuleSyntax": true,

               "baseUrl": ".",
               "paths": {
                  "@/*": ["./src/*"]
               }
            },
            "include": ["src"]
         }
         ```
      </Tabs.Tab>
   </Tabs>

   å®Œæ•´çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

   <FileTree>
      <FileTree.Folder name="pnpm-mono" defaultOpen>
            <FileTree.Folder name="apps" defaultOpen>
               <FileTree.Folder name="api" defaultOpen>
                  <FileTree.Folder name="src" defaultOpen>
                     <FileTree.File name="index.ts" />              
                  </FileTree.Folder>
                  <FileTree.File name="package.json" />
                  <FileTree.File name="biome.json" />
                  <FileTree.File name="tsconfig.json" />
               </FileTree.Folder>
            </FileTree.Folder>
            <FileTree.Folder name="packages" defaultOpen>
               <FileTree.Folder name="package-a" defaultOpen>
                  <FileTree.Folder name="src" defaultOpen>
                     <FileTree.File name="index.ts" />
                  </FileTree.Folder>
                  <FileTree.File name="package.json" />
                  <FileTree.File name="biome.json" />
                  <FileTree.File name="tsconfig.json" />
               </FileTree.Folder>
               <FileTree.Folder name="package-b" defaultOpen>
                  <FileTree.Folder name="src" defaultOpen>
                     <FileTree.File name="index.ts" />
                  </FileTree.Folder>
                  <FileTree.File name="package.json" />
                  <FileTree.File name="biome.json" />
                  <FileTree.File name="tsconfig.json" />
               </FileTree.Folder>
            </FileTree.Folder>
            <FileTree.File name=".npmrc" />
            <FileTree.File name="biome.json" />
            <FileTree.File name="package.json" />
            <FileTree.File name="pnpm-workspace.yaml" />
            <FileTree.File name="tsup.config.ts" />
      </FileTree.Folder>
   </FileTree>

5. **æ„å»º**

   åœ¨æ ¹ç›®å½•æ‰§è¡Œ `pnpm install` å‘½ä»¤ï¼Œ ç„¶åæ‰§è¡Œ `pnpm build` å‘½ä»¤ã€‚

   ```ansi
   (base) [0;32m âœ [0m [38;5;31mpnpm-mono[0m pnpm build
   
   > @ell/monorepo@1.0.0 build /Users/roylin/Desktop/ell/pnpm-mono
   > pnpm --filter "./packages/**" run build

   Scope: 2 of 4 workspace projects
   packages/package-a [38;5;31mbuild[0m$ tsup --config ../../tsup.config.ts
   [7 lines collapsed]
   [38;5;207m â”‚ [0m ESM dist/index.js     86.00 B
   [38;5;207m â”‚ [0m ESM dist/index.js.map 182.00 B
   [38;5;207m â”‚ [0m ESM âš¡ï¸ Build success in 10ms
   [38;5;207m â”‚ [0m CJS dist/index.cjs     567.00 B
   [38;5;207m â”‚ [0m CJS dist/index.cjs.map 285.00 B
   [38;5;207m â”‚ [0m CJS âš¡ï¸ Build success in 10ms
   [38;5;207m â”‚ [0m DTS Build start
   [38;5;207m â”‚ [0m DTS âš¡ï¸ Build success in 335ms
   [38;5;207m â”‚ [0m DTS dist/index.d.cts 48.00 B
   [38;5;207m â”‚ [0m DTS dist/index.d.ts  48.00 B
   [38;5;207m â””â”€ Done in 1.3s[0m
   packages/package-b [38;5;31mbuild[0m$ tsup --config ../../tsup.config.ts
   [7 lines collapsed]
   [38;5;207m â”‚ [0m ESM dist/index.js     86.00 B
   [38;5;207m â”‚ [0m ESM dist/index.js.map 182.00 B
   [38;5;207m â”‚ [0m ESM âš¡ï¸ Build success in 10ms
   [38;5;207m â”‚ [0m CJS dist/index.cjs     567.00 B
   [38;5;207m â”‚ [0m CJS dist/index.cjs.map 285.00 B
   [38;5;207m â”‚ [0m CJS âš¡ï¸ Build success in 10ms
   [38;5;207m â”‚ [0m DTS Build start
   [38;5;207m â”‚ [0m DTS âš¡ï¸ Build success in 327ms
   [38;5;207m â”‚ [0m DTS dist/index.d.cts 48.00 B
   [38;5;207m â”‚ [0m DTS dist/index.d.ts  48.00 B
   [38;5;207m â””â”€ Done in 1.3s[0m
   ```

6. **è¿è¡Œ**

   è¿›å…¥ apps/api ç›®å½•æ‰§è¡Œæ‰§è¡Œ `pnpm dev` è¿è¡Œåº”ç”¨ã€‚

   ```ansi
   (base) [0;32m âœ [0m [38;5;31mapi[0m pnpm dev

   > @ell/api@1.0.0 dev /Users/roylin/Desktop/ell/pnpm-mono/apps/api
   > tsx ./src/index.ts

   package-a
   package-b
   ```

æºç åœ°å€ï¼š[https://github.com/elljs/pnpm-mono](https://github.com/elljs/pnpm-mono)


## ä½¿ç”¨ Maven åˆ›å»º Java Monorepo

1. **åˆå§‹åŒ– Monorepo**

   åˆ›å»ºä¸€ä¸ªMonorepoé¡¹ç›®ã€‚

   ```bash
   mkdir maven-mono
   cd maven-mono
   
   # åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º pom.xml
   touch pom.xml
   
   # åœ¨ api ç›®å½•ä¸­åˆ›å»º pom.xml
   mkdir api && touch api/pom.xml
   
   # åœ¨ packagea ç›®å½•ä¸­åˆ›å»º pom.xml
   mkdir packagea && touch packagea/pom.xml
   
   # åœ¨ packageb ç›®å½•ä¸­åˆ›å»º pom.xml
   mkdir packageb && touch packageb/pom.xml

   ```

   æ ¹ç›®å½•ä¸­çš„ pom.xml æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

   ```xml
   <project>
      <!-- æŒ‡å®š Maven POM æ¨¡å‹çš„ç‰ˆæœ¬ -->
      <modelVersion>4.0.0</modelVersion>
      
      <!-- é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ -->
      <groupId>com.ell</groupId> <!-- é¡¹ç›®çš„ç»„ IDï¼Œé€šå¸¸ç”¨äºå”¯ä¸€æ ‡è¯†é¡¹ç›®æˆ–ç»„ç»‡ -->
      <artifactId>maven-monorepo</artifactId> <!-- é¡¹ç›®çš„ artifact IDï¼Œç”¨äºåœ¨ç»„å†…éƒ¨å”¯ä¸€æ ‡è¯†é¡¹ç›® -->
      <version>1.0.0-SNAPSHOT</version> <!-- é¡¹ç›®çš„ç‰ˆæœ¬å·ï¼ŒSNAPSHOT è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¿«ç…§ç‰ˆæœ¬ï¼Œå¯èƒ½è¿˜åœ¨å¼€å‘ä¸­ -->
      <packaging>pom</packaging> <!-- æ‰“åŒ…ç±»å‹ï¼Œè¿™é‡Œä¸º POMï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªçˆ¶ POMï¼Œç”¨äºç®¡ç†å­æ¨¡å— -->
      
      <!-- åˆ—å‡ºæ­¤ POM æ–‡ä»¶ç®¡ç†çš„å­æ¨¡å— -->
      <modules>
         <module>packagea</module> <!-- å­æ¨¡å— packagea çš„ç›®å½•å -->
         <module>packageb</module> <!-- å­æ¨¡å— packageb çš„ç›®å½•å -->
         <module>api</module> <!-- å­æ¨¡å— api çš„ç›®å½•å -->
      </modules>
      
      <!-- ä¾èµ–ç®¡ç†éƒ¨åˆ†ï¼Œç”¨äºå®šä¹‰é¡¹ç›®ä¸­ä½¿ç”¨çš„ä¾èµ–é¡¹çš„ç‰ˆæœ¬ï¼Œä»¥ä¾¿åœ¨å­æ¨¡å—ä¸­å¼•ç”¨è€Œä¸éœ€è¦é‡å¤ç‰ˆæœ¬å· -->
      <dependencyManagement>
         <dependencies>
               <dependency>
                  <groupId>com.ell</groupId> <!-- ä¾èµ–é¡¹çš„ç»„ ID -->
                  <artifactId>monorepo</artifactId> <!-- ä¾èµ–é¡¹çš„ artifact ID -->
                  <version>1.0.0</version> <!-- ä¾èµ–é¡¹çš„ç‰ˆæœ¬å·ï¼Œæ³¨æ„è¿™é‡Œåº”è¯¥æ˜¯ä¸€ä¸ªå·²å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯ SNAPSHOTï¼Œé™¤éä½ æœ‰ç‰¹æ®Šéœ€æ±‚ -->
               </dependency>
         </dependencies>
      </dependencyManagement>
   </project>
   ```

   packagea ä¸­çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:

   <Tabs items={['src/main/java/com/ell/packagea/PackageA.java', 'pom.xml']}>
      <Tabs.Tab>
         ```java
         package com.ell.packagea;

         public class PackageA {
            public void methodA() {
               System.out.println("Method A from Package A");
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```xml
         <project>
            <!-- æŒ‡å®š Maven POM æ¨¡å‹çš„ç‰ˆæœ¬ -->
            <modelVersion>4.0.0</modelVersion>
            
            <!-- æŒ‡å®šå½“å‰é¡¹ç›®çš„çˆ¶ POM -->
            <parent>
               <!-- çˆ¶é¡¹ç›®çš„ç»„ ID -->
               <groupId>com.ell</groupId>
               <!-- çˆ¶é¡¹ç›®çš„ artifact ID -->
               <artifactId>maven-monorepo</artifactId>
               <!-- çˆ¶é¡¹ç›®çš„ç‰ˆæœ¬å· -->
               <version>1.0.0-SNAPSHOT</version>
               <!-- çˆ¶ POM æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œè¿™é‡Œè¡¨ç¤ºçˆ¶ POM ä½äºä¸Šä¸€çº§ç›®å½•ä¸­ -->
               <relativePath>../pom.xml</relativePath>
            </parent>
            
            <!-- å½“å‰é¡¹ç›®çš„ artifact IDï¼Œè¿™é‡Œè¡¨ç¤ºè¯¥é¡¹ç›®æ˜¯çˆ¶é¡¹ç›® maven-monorepo çš„ä¸€ä¸ªå­æ¨¡å— -->
            <artifactId>packagea</artifactId>
         </project>
         ```
      </Tabs.Tab>
   </Tabs>

   packageb ä¸­çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:

   <Tabs items={['src/main/java/com/ell/packageb/PackageB.java', 'pom.xml']}>
      <Tabs.Tab>
         ```java
         package com.ell.packageb;

         public class PackageB {
            public void methodB() {
               System.out.println("Method B from Package B");
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```xml
         <project>
            <!-- æŒ‡å®š Maven POM æ¨¡å‹çš„ç‰ˆæœ¬ -->
            <modelVersion>4.0.0</modelVersion>
            
            <!-- æŒ‡å®šå½“å‰é¡¹ç›®çš„çˆ¶ POM -->
            <parent>
               <!-- çˆ¶é¡¹ç›®çš„ç»„ ID -->
               <groupId>com.ell</groupId>
               <!-- çˆ¶é¡¹ç›®çš„ artifact ID -->
               <artifactId>maven-monorepo</artifactId>
               <!-- çˆ¶é¡¹ç›®çš„ç‰ˆæœ¬å· -->
               <version>1.0.0-SNAPSHOT</version>
               <!-- çˆ¶ POM æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œè¿™é‡Œè¡¨ç¤ºçˆ¶ POM ä½äºä¸Šä¸€çº§ç›®å½•ä¸­ -->
               <relativePath>../pom.xml</relativePath>
            </parent>
            
            <!-- å½“å‰é¡¹ç›®çš„ artifact IDï¼Œè¿™é‡Œè¡¨ç¤ºè¯¥é¡¹ç›®æ˜¯çˆ¶é¡¹ç›® maven-monorepo çš„ä¸€ä¸ªå­æ¨¡å— -->
            <artifactId>packagea</artifactId>
         </project>
         ```
      </Tabs.Tab>
   </Tabs>

   api ä¸­çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:

   <Tabs items={['src/main/java/com/ell/api/Api.java', 'pom.xml']}>
      <Tabs.Tab>
         ```java
         package com.ell.api;

         import com.ell.packagea.PackageA;
         import com.ell.packageb.PackageB;

         public class Api {
            public static void main(String[] args) {
               PackageA packageA = new PackageA();
               packageA.methodA();

               PackageB packageB = new PackageB();
               packageB.methodB();
            }
         }
         ```
      </Tabs.Tab>
      <Tabs.Tab>
         ```xml
         <project>
            <!-- æŒ‡å®š Maven POM æ¨¡å‹çš„ç‰ˆæœ¬ -->
            <modelVersion>4.0.0</modelVersion>
            
            <!-- æŒ‡å®šå½“å‰é¡¹ç›®çš„çˆ¶ POM -->
            <parent>
               <!-- çˆ¶é¡¹ç›®çš„ç»„ ID -->
               <groupId>com.ell</groupId>
               <!-- çˆ¶é¡¹ç›®çš„ artifact ID -->
               <artifactId>maven-monorepo</artifactId>
               <!-- çˆ¶é¡¹ç›®çš„ç‰ˆæœ¬å· -->
               <version>1.0.0-SNAPSHOT</version>
               <!-- çˆ¶ POM æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œè¿™é‡Œè¡¨ç¤ºçˆ¶ POM ä½äºä¸Šä¸€çº§ç›®å½•ä¸­ -->
               <relativePath>../pom.xml</relativePath>
            </parent>
            
            <!-- å½“å‰é¡¹ç›®çš„ artifact IDï¼Œè¿™é‡Œè¡¨ç¤ºè¯¥é¡¹ç›®æ˜¯çˆ¶é¡¹ç›® maven-monorepo çš„ä¸€ä¸ªå­æ¨¡å— -->
            <artifactId>api</artifactId>
            
            <!-- é¡¹ç›®ä¾èµ–é¡¹åˆ—è¡¨ï¼Œè¿™é‡Œåˆ—å‡ºäº†å½“å‰é¡¹ç›®éœ€è¦çš„å…¶ä»– Maven é¡¹ç›®æˆ–åº“ -->
            <dependencies>
               <!-- packagea çš„ä¾èµ–é¡¹ï¼Œè¡¨ç¤ºå½“å‰é¡¹ç›®ä¾èµ–äº com.ell ç»„çš„ packagea é¡¹ç›® -->
               <dependency>
                     <groupId>com.ell</groupId> <!-- ä¾èµ–é¡¹çš„ç»„ ID -->
                     <artifactId>packagea</artifactId> <!-- ä¾èµ–é¡¹çš„ artifact ID -->
                     <version>1.0.0-SNAPSHOT</version> <!-- ä¾èµ–é¡¹çš„ç‰ˆæœ¬å·ï¼Œè¿™é‡ŒåŒæ ·ä½¿ç”¨çš„æ˜¯å¿«ç…§ç‰ˆæœ¬ -->
               </dependency>
               
               <!-- packageb çš„ä¾èµ–é¡¹ï¼Œè¡¨ç¤ºå½“å‰é¡¹ç›®è¿˜ä¾èµ–äº com.ell ç»„çš„ packageb é¡¹ç›® -->
               <dependency>
                     <groupId>com.ell</groupId> <!-- ä¾èµ–é¡¹çš„ç»„ ID -->
                     <artifactId>packageb</artifactId> <!-- ä¾èµ–é¡¹çš„ artifact ID -->
                     <version>1.0.0-SNAPSHOT</version> <!-- ä¾èµ–é¡¹çš„ç‰ˆæœ¬å·ï¼ŒåŒæ ·ä½¿ç”¨çš„æ˜¯å¿«ç…§ç‰ˆæœ¬ -->
               </dependency>
            </dependencies>
         </project>
         ```
      </Tabs.Tab>
   </Tabs>

   å®Œæ•´çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

   <FileTree>
      <FileTree.Folder name="maven-mono" defaultOpen>
         <FileTree.Folder name="api" defaultOpen>
            <FileTree.Folder name="src/main/java/com/ell/api" defaultOpen>
               <FileTree.File name="Api.java" />
            </FileTree.Folder>
            <FileTree.File name="pom.xml" />
         </FileTree.Folder>
         <FileTree.Folder name="packagea" defaultOpen>
            <FileTree.Folder name="src/main/java/com/ell/packagea" defaultOpen>
               <FileTree.File name="PackageA.java" />
            </FileTree.Folder>
            <FileTree.File name="pom.xml" />
         </FileTree.Folder>
         <FileTree.Folder name="packageb" defaultOpen>
            <FileTree.Folder name="src/main/java/com/ell/packageb" defaultOpen>
               <FileTree.File name="PackageB.java" />
            </FileTree.Folder>
            <FileTree.File name="pom.xml" />
         </FileTree.Folder>
         <FileTree.File name="pom.xml" />
      </FileTree.Folder>
   </FileTree>

2. **æ„å»º**

   æ‰§è¡Œ `mvn clean install` å‘½ä»¤ï¼Œè¿™å°†ç¼–è¯‘å’Œæ‰“åŒ…æ‰€æœ‰é¡¹ç›®ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„ jar åŒ…å’Œ pom æ–‡ä»¶ã€‚

   - **mvn**

   è¿™æ˜¯ Maven çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ‰§è¡Œ Maven çš„å„ç§å‘½ä»¤å’Œç”Ÿå‘½å‘¨æœŸé˜¶æ®µã€‚

   - **clean**

   `clean` æ˜¯ Maven çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œä½äº `validate` ä¹‹åã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯æ¸…ç†é¡¹ç›®ä¹‹å‰æ„å»ºç”Ÿæˆçš„æ–‡ä»¶ï¼Œç¡®ä¿ä»å¹²å‡€çš„çŠ¶æ€å¼€å§‹æ–°çš„æ„å»ºã€‚è¿™é€šå¸¸åŒ…æ‹¬åˆ é™¤ `target` ç›®å½•ï¼ˆæˆ–ä½ é…ç½®çš„ä»»ä½•å…¶ä»–æ„å»ºè¾“å‡ºç›®å½•ï¼‰ï¼Œè¯¥ç›®å½•é€šå¸¸åŒ…å«ç¼–è¯‘åçš„ç±»æ–‡ä»¶ã€æ‰“åŒ…çš„ JAR æ–‡ä»¶ã€æµ‹è¯•æŠ¥å‘Šç­‰ã€‚

   æ‰§è¡Œ `clean` é˜¶æ®µæ—¶ï¼ŒMaven ä¼šè°ƒç”¨ä¸æ¸…ç†ç›¸å…³çš„æ’ä»¶ç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œ`maven-clean-plugin` çš„ `clean` ç›®æ ‡è´Ÿè´£åˆ é™¤æ„å»ºè¾“å‡ºç›®å½•ã€‚

   - **install**

   `install` æ˜¯ Maven çš„å¦ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œä½äº `package` ä¹‹åï¼Œ`deploy` ä¹‹å‰ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯å°†é¡¹ç›®æ„å»ºå¹¶æ‰“åŒ…ï¼ˆå¦‚ JARã€WAR ç­‰ï¼‰ï¼Œç„¶åå°†è¿™ä¸ªåŒ…å®‰è£…åˆ°æœ¬åœ° Maven ä»“åº“ä¸­ã€‚è¿™æ ·ï¼Œå…¶ä»–é¡¹ç›®å°±å¯ä»¥ä½œä¸ºä¾èµ–é¡¹æ¥å¼•ç”¨å®ƒï¼Œè€Œæ— éœ€å°†å…¶åŒ…å«åœ¨æºä»£ç ä»“åº“ä¸­ã€‚

   æ‰§è¡Œ `install` é˜¶æ®µæ—¶ï¼ŒMaven ä¼šé¦–å…ˆæ‰§è¡Œ `compile`ã€`test`ï¼ˆå¦‚æœå¯ç”¨äº†æµ‹è¯•ï¼‰ã€`package` ç­‰é˜¶æ®µï¼Œä»¥ç¡®ä¿é¡¹ç›®å·²ç»è¿‡ç¼–è¯‘ã€æµ‹è¯•å¹¶æ‰“åŒ…ã€‚ç„¶åï¼Œå®ƒä¼šè°ƒç”¨ä¸å®‰è£…ç›¸å…³çš„æ’ä»¶ç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œ`maven-install-plugin` çš„ `install` ç›®æ ‡è´Ÿè´£å°†æ„å»ºçš„è¾“å‡ºå®‰è£…åˆ°æœ¬åœ° Maven ä»“åº“ä¸­ã€‚

   - **mvn clean install**

   å½“ä½ è¿è¡Œ `mvn clean install` å‘½ä»¤æ—¶ï¼ŒMaven ä¼šé¦–å…ˆæ‰§è¡Œ `clean` é˜¶æ®µæ¥æ¸…ç†ä¹‹å‰çš„æ„å»ºè¾“å‡ºï¼Œç„¶åæ‰§è¡Œ `install` é˜¶æ®µæ¥æ„å»ºé¡¹ç›®å¹¶å°†å…¶å®‰è£…åˆ°æœ¬åœ° Maven ä»“åº“ä¸­ã€‚è¿™ä¸ªå‘½ä»¤éå¸¸é€‚åˆäºåœ¨å¼€å‘è¿‡ç¨‹ä¸­ç¡®ä¿ä½ çš„é¡¹ç›®æ˜¯ä»å¹²å‡€çš„çŠ¶æ€å¼€å§‹æ„å»ºçš„ï¼Œå¹¶ä¸”æ„å»ºçš„è¾“å‡ºè¢«æ­£ç¡®åœ°å®‰è£…åˆ°äº†æœ¬åœ°ä»“åº“ä¸­ï¼Œä»¥ä¾¿å…¶ä»–é¡¹ç›®å¯ä»¥å¼•ç”¨å®ƒã€‚

3. **ä½¿ç”¨æ’ä»¶**

   åœ¨ api/pom.xml ä¸­æ·»åŠ ä¸€ä¸ª maven æ’ä»¶ï¼Œç”¨äºæ‰§è¡Œ java é¡¹ç›®çš„å¯åŠ¨å‘½ä»¤ã€‚

   ```xml {24-37} filename="api/pom.xml" showLineNumbers   
   <project>
      <modelVersion>4.0.0</modelVersion>
      <parent>
         <groupId>com.ell</groupId>
         <artifactId>maven-monorepo</artifactId>
         <version>1.0.0-SNAPSHOT</version>
         <relativePath>../pom.xml</relativePath>
      </parent>
      <artifactId>api</artifactId>

      <dependencies>
         <dependency>
               <groupId>com.ell</groupId>
               <artifactId>packagea</artifactId>
               <version>1.0.0-SNAPSHOT</version>
         </dependency>
         <dependency>
               <groupId>com.ell</groupId>
               <artifactId>packageb</artifactId>
               <version>1.0.0-SNAPSHOT</version>
         </dependency>
      </dependencies>

      <build>
         <pluginManagement>
               <plugins>          
                  <plugin>
                     <groupId>org.codehaus.mojo</groupId>
                     <artifactId>exec-maven-plugin</artifactId>
                     <version>3.0.0</version>
                     <configuration>
                           <mainClass>com.ell.api.Api</mainClass>
                     </configuration>
                  </plugin>      
               </plugins>
         </pluginManagement>
      </build>
   </project>
   ```

4. **è¿è¡Œé¡¹ç›®**

   ```bash
   mvn -f api/pom.xml exec:java
   ```

   - **-f api/pom.xml**
   
   `-f` æˆ– `--file` é€‰é¡¹ç”¨äºæŒ‡å®šè¦ä½¿ç”¨çš„ POM æ–‡ä»¶çš„ä½ç½®ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒæŒ‡å‘ `api/pom.xml`ï¼Œè¿™æ„å‘³ç€ Maven å°†ä¼šä½¿ç”¨ä½äº `api` ç›®å½•ä¸‹çš„ `pom.xml` æ–‡ä»¶ä½œä¸ºé¡¹ç›®çš„å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰ã€‚è¿™é€šå¸¸ç”¨äºå¤šæ¨¡å—é¡¹ç›®ä¸­çš„å­æ¨¡å—ï¼Œæˆ–è€…å½“ä½ æƒ³è¦ä»ä¸€ä¸ªä¸æ˜¯å½“å‰å·¥ä½œç›®å½•çš„ä½ç½®è¿è¡Œ Maven æ—¶ã€‚

   - **exec:java**
   
   è¿™éƒ¨åˆ†æŒ‡å®šäº†è¦æ‰§è¡Œçš„ Maven æ’ä»¶ç›®æ ‡å’Œ/æˆ–é…ç½®ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒä½¿ç”¨ `exec:java` æ’ä»¶ç›®æ ‡ï¼Œè¿™æ„å‘³ç€ Maven å°†ä¼šæ‰§è¡Œ `exec:java` æ’ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨é…ç½®ä¸­æŒ‡å®šçš„ `mainClass` å‚æ•°æ¥å¯åŠ¨ Java åº”ç”¨ç¨‹åºã€‚

   ```ansi {11-12}
   (base) [0;32m âœ [0m [38;5;31mmaven-mono[0m mvn -f api/pom.xml exec:java

   [[38;5;31mINFO[0m] Scanning for projects...
   [[38;5;31mINFO[0m]
   [[38;5;31mINFO[0m] ----------------------------< [38;5;31mcom.ell:api[0m >-----------------------------
   [[38;5;31mINFO[0m] Building api 1.0.0-SNAPSHOT
   [[38;5;31mINFO[0m]   from pom.xml
   [[38;5;31mINFO[0m] --------------------------------[ jar ]---------------------------------
   [[38;5;31mINFO[0m]
   [[38;5;31mINFO[0m] --- [0;32mexec:3.0.0:java[0m (default-cli) @ [38;5;31mapi[0m ---
   Method A from Package A
   Method B from Package B
   [[38;5;31mINFO[0m] ------------------------------------------------------------------------
   [[38;5;31mINFO[0m] [0;32mBUILD SUCCESS[0m
   [[38;5;31mINFO[0m] ------------------------------------------------------------------------
   [[38;5;31mINFO[0m] Total time:  0.311 s
   [[38;5;31mINFO[0m] Finished at: 2024-11-29T00:24:57+08:00
   [[38;5;31mINFO[0m] ------------------------------------------------------------------------
   ```

æºç åœ°å€ï¼š[https://github.com/elljs/maven-mono](https://github.com/elljs/maven-mono)